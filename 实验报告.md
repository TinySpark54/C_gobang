# **æ•°æ®ç»“æ„ä¸ç®—æ³•I**

## **ç»¼åˆå¤§å®éªŒå®éªŒæŠ¥å‘Š**

**å­¦é™¢ï¼š** è®¡ç®—æœºç§‘å­¦ä¸å·¥ç¨‹å­¦é™¢ï¼ˆç½‘ç»œç©ºé—´å®‰å…¨å­¦é™¢ï¼‰  \
**ä¸“ä¸šï¼š** è®¡ç®—æœºç±»  \
**ç­çº§ï¼š** è®¡ç®—æœºå¤§ç±»2025080902  \
**å§“åï¼š** åˆ˜ç›Šç¡• \
**å­¦å·ï¼š** 2025080902006 \
**æŒ‡å¯¼æ•™å¸ˆï¼š** ä¿¸å¿—åˆš  \
**å®éªŒæ—¥æœŸï¼š** 202510æœˆè‡³12æœˆ\
**å®éªŒåœ°ç‚¹ï¼š** å“å­¦æ¥¼C105

### **ä¸€ã€å®éªŒç›®çš„**

1. ç†è§£åšå¼ˆç±»AIç¨‹åºçš„è®¾è®¡æ€æƒ³ï¼Œç‰¹åˆ«æ˜¯åŸºäºå¢é‡æ›´æ–°çš„æœç´¢ç®—æ³•åœ¨å®æ—¶å¯¹æˆ˜ä¸­çš„åº”ç”¨ä»·å€¼ï¼›
2. å­¦ä¹ å¹¶å®ç°Alpha-Betaå‰ªæç®—æ³•ä¸å¢é‡è¯„ä¼°ç›¸ç»“åˆçš„é«˜æ•ˆæœç´¢ç­–ç•¥ï¼›
3. æŒæ¡äº”å­æ£‹æ£‹ç›˜çŠ¶æ€çš„å¢é‡æ›´æ–°æœºåˆ¶ï¼Œæ·±åŒ–å¯¹æ•°æ®ç»“æ„ï¼ˆä½åŸŸã€ç»“æ„ä½“ã€æ ˆï¼‰çš„ç†è§£å’Œåº”ç”¨ï¼›
4. æŒæ¡åŸºäºçƒ­åŠ›å›¾çš„å¯å‘å¼æœç´¢å’Œåˆ†æ”¯é€‰æ‹©ä¼˜åŒ–æŠ€æœ¯ï¼›
5. åŸ¹å…»å®Œæ•´æ¸¸æˆAIé¡¹ç›®çš„åˆ†æã€è®¾è®¡ã€å®ç°å’Œè°ƒè¯•èƒ½åŠ›ã€‚

### **äºŒã€å®éªŒç¯å¢ƒ**

#### **1. ç¡¬ä»¶ç¯å¢ƒ**

- CPUå‹å·ï¼šAMD Ryzen H 255w 
- å†…å­˜å¤§å°ï¼š32GB DDR5 
- å­˜å‚¨ä»‹è´¨åŠå®¹é‡ï¼š1TB NVMe SSD  
- å…¶ä»–ç¡¬ä»¶ï¼šæ— ç‰¹æ®Šè¦æ±‚

#### **2. è½¯ä»¶ç¯å¢ƒ**

- æ“ä½œç³»ç»Ÿï¼šWindows 11 ä¸“ä¸šç‰ˆ  
- ç¼–è¯‘å·¥å…·ï¼šMinGW GCC 13.0 
- è°ƒè¯•å·¥å…·ï¼šGDB 15.2
- IDEï¼šCLion, Qt Creator
- å…¶ä»–è¾…åŠ©è½¯ä»¶ï¼š Git, CMake

#### **ä¸‰ã€å®éªŒåŸç†**

1. å±€é¢ä¼°å€¼ã€æå¤§æå°æœç´¢å’Œalpha_betaå‰ªæç®—æ³•\
   * å±€é¢ä¼°å€¼ï¼šä¸ºäº†è®©AIä¸‹å‡ºå¼ºæ‰‹ï¼Œé¦–å…ˆåº”ä½¿å…¶åˆ¤æ–­å±€é¢å¥½åã€‚ä¸€ä¸ªç®€å•çš„æ€è·¯æ˜¯
     ä¸ºæ´»ä¸‰ã€çœ ä¸‰ã€å†²å››ç­‰ä¸åŒæ£‹å½¢èµ‹äºˆä¸åŒçš„åˆç†åˆ†å€¼ï¼Œç»Ÿè®¡æ£‹ç›˜ä¸ŠåŒæ–¹æ‰€æœ‰æ£‹å½¢åå¾—åˆ†åˆ†åˆ«ç›¸åŠ 
     ï¼Œå†å°†åŒæ–¹å¾—åˆ†ç›¸å‡ï¼Œå³å¾—å½“å‰å±€é¢åˆ†
   * æå¤§æå°æœç´¢ï¼šåœ¨æ£‹å±€ä¸­ï¼ŒåŒæ–¹æ€»æ˜¯å¸Œæœ›é€‰æ‹©å¯¹è‡ªå·±æœ€æœ‰åˆ©çš„å±€é¢ï¼Œå³ç”µè„‘é€‰æ‹©å¾—åˆ†æœ€é«˜å±€é¢ï¼Œç©å®¶åä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿè¿™ä¸€è¿‡ç¨‹è¿›è¡Œæ¨
     æ¼”ï¼Œä»¥ç¡®å®šæœ€ä¼˜è§£ã€‚\
   ![img_2.png](report/æœç´¢åŸç†1.png)\
   ä»¥ä¸Šå›¾ä¸¤å±‚æœç´¢ä¸ºä¾‹ï¼Œæ©™è‰²ä¸ºè½®åˆ°ç”µè„‘è½å­çš„å±€é¢ï¼ˆå³MAXèŠ‚ç‚¹ï¼‰ï¼Œè“è‰²ä¸ºè½®åˆ°ç©å®¶è½å­çš„å±€é¢ï¼ˆå³MINèŠ‚ç‚¹ï¼‰
   å¯¹ä¸¤æ­¥åçš„å±€é¢åˆ†åˆ«è¿›è¡Œä¼°å€¼ï¼Œå¹¶æŒ‰ç…§ï¼ˆæ©™è‰²é€‰æœ€å¤§ï¼Œè“è‰²é€‰æœ€å°ï¼‰çš„è§„åˆ™è¿›è¡Œé€‰æ‹©ï¼Œå³å¯ç¡®å®šæœ€ä¼˜è§£ã€‚\
   ![img.png](report/æœç´¢åŸç†2.png)\
      è¿™ä¸€è¿‡ç¨‹å¯ä»¥é€šè¿‡é€’å½’ç»“æ„å®ç°ï¼š
      ```c
      int search(Point point ,int depth,bool isMachine,int miniMax) {
    
        if (depth>0)
        {
            int value=0;
            int temp;
            Point *choices = generate_choices();
            for (int i = 0; i < MAXBRANCHES; i++)
            {
                next_state(choices[i]);
                temp = search(choices[i],depth-1,!isMachine,miniMax);
                if (isMachine && temp > value)
                {
                    value = temp;
                }
                else if (!isMachine && temp < value)
                {
                    value = temp;
                }
                de_state(choices[i]);
            }
            return value;
        }
        return get_value();
       }
      ```
   * alpha_betaå‰ªæï¼šåœ¨ä¸Šé¢çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œåœ¨è¿›è¡Œç¬¬ä¸‰ä¸ªminèŠ‚ç‚¹çš„æœç´¢æ—¶ï¼Œ
   ç”±äºç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹çš„å¾—åˆ†ä¸º1ï¼Œè€Œè¿™é‡Œå¸Œæœ›é€‰æ‹©å¾—åˆ†æœ€ä½çš„èŠ‚ç‚¹ï¼Œæ•…è¯¥minèŠ‚ç‚¹çš„å¾—åˆ†å°†ä¸å¤§äº1ï¼›
   è€Œè¯¥minèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºmaxèŠ‚ç‚¹ï¼Œä¸”å…¶å­˜åœ¨å¾—åˆ†ä¸º15ï¼ˆ>1ï¼‰çš„å…¶ä»–å­èŠ‚ç‚¹ï¼Œæ•…æ— è®ºåç»­å­èŠ‚ç‚¹å–ä½•å€¼ï¼Œ
   è¯¥minèŠ‚ç‚¹ä¸€å®šä¸ä¼šè¢«é€‰æ‹©ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è·³è¿‡è¯¥minèŠ‚ç‚¹çš„å…¶ä»–å­èŠ‚ç‚¹çš„ä¼°å€¼ï¼Œä»è€Œé™ä½æœç´¢è¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦ã€‚\
   æœç´¢æ—¶ï¼Œç»´æŠ¤ä¸¤ä¸ªå˜é‡ ğ›¼å’Œ ğ›½ï¼Œåˆ†åˆ«è¡¨ç¤ºå±€é¢è¿›è¡Œåˆ°è¯¥èŠ‚ç‚¹æ—¶ï¼Œè€ƒè™‘æ‰€æœ‰å·²ç»æœç´¢è¿‡çš„èŠ‚ç‚¹ï¼Œ
   Alpha ç©å®¶ï¼ˆå³å¯»æ±‚æœ€å¤§åˆ†æ•°çš„ä¸€æ–¹ï¼‰å’Œ Beta ç©å®¶ï¼ˆå³å¯»æ±‚æœ€å°åˆ†æ•°çš„ä¸€æ–¹ï¼‰èƒ½å¤Ÿä¿è¯å–å¾—çš„åˆ†æ•°çš„ä¸‹ç•Œå’Œä¸Šç•Œã€‚\
    æœç´¢è¿‡ç¨‹å®ä¾‹ï¼š\
   ![img_3.png](report/æœç´¢åŸç†3.png)
   ä»£ç å®ç°ï¼š
      ```c
      // æå¤§æå°æœç´¢ with Î±-Î²å‰ªæ
      int minimax(int depth, int alpha, int beta, bool isMaximizing) {
      // ç»ˆæ­¢æ¡ä»¶ï¼šè¾¾åˆ°æœ€å¤§æ·±åº¦æˆ–æ¸¸æˆç»“æŸ
      if (depth == 0 || checkWin(PLAYER) || checkWin(COMPUTER)) {
      return evaluateBoard();
      }
      
          int moves[BOARD_SIZE * BOARD_SIZE][2];
          int moveCount;
          generateMoves(moves, &moveCount);
          
          if (isMaximizing) {
              int maxEval = INT_MIN;
              for (int i = 0; i < moveCount; i++) {
                  int x = moves[i][0];
                  int y = moves[i][1];
                  
                  board[x][y] = COMPUTER;
                  int eval = minimax(depth - 1, alpha, beta, false);
                  board[x][y] = EMPTY;
                  
                  maxEval = (eval > maxEval) ? eval : maxEval;
                  alpha = (alpha > eval) ? alpha : eval;
                  if (beta <= alpha) {
                      break; // Î²å‰ªæ
                  }
              }
              return maxEval;
          } else {
              int minEval = INT_MAX;
              for (int i = 0; i < moveCount; i++) {
                  int x = moves[i][0];
                  int y = moves[i][1];
                  
                  board[x][y] = PLAYER;
                  int eval = minimax(depth - 1, alpha, beta, true);
                  board[x][y] = EMPTY;
                  
                  minEval = (eval < minEval) ? eval : minEval;
                  beta = (beta < eval) ? beta : eval;
                  if (beta <= alpha) {
                      break; // Î±å‰ªæ
                  }
              }
              return minEval;
          }
      }
      ```

       
2. å¯å‘å¼æœç´¢ï¼š\
   åœ¨ä¸Šè¿°Î±-Î²å‰ªæç®—æ³•ä¸­ï¼Œæˆ‘ä»¬ä¸éš¾æ³¨æ„åˆ°ï¼Œæ¯ä¸€æ­¥æœç´¢ä¸­è¾ƒä¼˜é€‰æ‹©è¶Šé å‰ï¼Œå‰ªææ•ˆæœè¶Šå¥½ã€‚
   å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§å½¢æˆè¿å­çš„èƒ½åŠ›å¯¹å¾…é€‰ç‚¹æ’åºåå†è¿›è¡Œæœç´¢ã€‚
3. å¢é‡æ›´æ–°ï¼š\
   ä¼ ç»Ÿçš„æå¤§æå°æœç´¢ä¸­ï¼Œå±€é¢ä¼°å€¼æ˜¯æ€§èƒ½å¼€é”€æœ€å¤§çš„éƒ¨åˆ†ã€‚è€Œç”±äºç›¸é‚»èŠ‚ç‚¹å±€é¢ç›¸ä¼¼ï¼Œè¯¥è¿‡ç¨‹ä¸­å®é™…ä¸Šå­˜åœ¨å¤§é‡é‡å¤è¿ç®—ã€‚
   å› æ­¤ï¼Œæˆ‘é‡‡ç”¨å¢é‡æ›´æ–°çš„æ–¹å¼ï¼Œé€šè¿‡ç»´æŠ¤`Shape BoardState[15][15][4]`ï¼ˆè®°å½•æ¯ä¸ªä½ç½®å››ä¸ªæ–¹å‘çš„æ£‹å½¢çŠ¶æ€ï¼‰ï¼Œåªè®¡ç®—è½å­åå±€éƒ¨æ£‹ç›˜çš„å˜åŒ–ï¼Œï¼Œå®ç°O(1)å¤æ‚åº¦çš„å±€éƒ¨æ›´æ–°ã€‚
   åŒæ—¶ä½¿ç”¨æ“ä½œæ ˆChangeLogè®°å½•æ¯ä¸€æ­¥çš„çŠ¶æ€å˜åŒ–å¹¶åœ¨å‡½æ•°é€€å‡ºå‰è¿›è¡ŒçŠ¶æ€å›æ»šï¼Œä¿è¯é€’å½’å‰åå±€é¢ä¸€è‡´




### **å››ã€å®éªŒå†…å®¹ä¸æ­¥éª¤**

#### **1. å®éªŒå†…å®¹**

è®¾è®¡å¹¶å®ç°ä¸€ä¸ªæ™ºèƒ½äº”å­æ£‹AIç¨‹åºï¼Œæ”¯æŒä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

- Alpha-Betaå‰ªææœç´¢ï¼šå®ç°æœ‰é™æ·±åº¦çš„æœ€ä¼˜è½å­ç‚¹æœç´¢
- å¢é‡æ£‹å½¢æ›´æ–°ï¼šå®ç°è½å­åæ£‹å½¢çš„å±€éƒ¨æ›´æ–°ï¼Œé¿å…å…¨å±€é‡æ–°è®¡ç®—
- çƒ­åŠ›å›¾ç”Ÿæˆï¼šåŸºäºå½“å‰æ£‹å±€åŠ¨æ€è®¡ç®—æ¯ä¸ªç©ºä½çš„æ½œåœ¨ä»·å€¼
- æ“ä½œæ ˆï¼šæ”¯æŒæœç´¢è¿‡ç¨‹ä¸­çš„çŠ¶æ€ä¿å­˜å’Œå›æ»š
- äººæœºå¯¹æˆ˜ï¼šGUIäº¤äº’ç•Œé¢ï¼Œæ”¯æŒç©å®¶ä¸AIå¯¹æˆ˜

#### **2. å®éªŒæ­¥éª¤**

**æ­¥éª¤1ï¼šå®éªŒå‡†å¤‡**

1. æ˜ç¡®äº”å­æ£‹è§„åˆ™å’ŒAIéœ€æ±‚ï¼Œè®¾è®¡æ ¸å¿ƒæ•°æ®ç»“æ„
2. ç»˜åˆ¶ç³»ç»Ÿæ¶æ„å›¾ï¼Œç¡®å®šæ¨¡å—åˆ’åˆ†ï¼šçŠ¶æ€ç®¡ç†ã€æ£‹å½¢åˆ†æã€æœç´¢ç®—æ³•ã€äº¤äº’ç•Œé¢
3. è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼šå¿…èƒœå±€é¢ã€é˜²å®ˆå±€é¢ã€å¹³è¡¡å±€é¢ã€è¾¹ç•Œæƒ…å†µ

**æ­¥éª¤2ï¼šå®éªŒè®¾è®¡**

1. **æ•°æ®ç»“æ„è®¾è®¡**ï¼š
   - ç»“æ„ä½“ï¼š
   ```c
   typedef struct {
       bool owner:1;            // æ£‹æ‰‹ï¼š0-ç©å®¶ï¼Œ1-ç”µè„‘
       bool isblocked_begin:1;  // èµ·ç‚¹æ˜¯å¦è¢«å°å µ
       bool isblocked_end:1;    // ç»ˆç‚¹æ˜¯å¦è¢«å°å µ
       char length0:7;          // è¿å­é•¿åº¦
       char length1:6;          // è·³è¿é•¿åº¦
   } Shape;
   
   typedef struct {
       ChangeMode mode;         // æ“ä½œç±»å‹
       union {
           struct {
               Shape shape;     // æ£‹å½¢æ•°æ®
               Point position;  // ä½ç½®
               char direction;  // æ–¹å‘
           } shapeData;
           // ... å…¶ä»–æ•°æ®
       } data;
   } ChangeLog;
   ```
   - å…¨å±€å˜é‡ï¼š
   ```c
   char Board[15][15]; //æ£‹ç›˜
   Shape BoardState[15][15][4]; //æŒ‰æ£‹å½¢å­˜å‚¨çš„æ£‹ç›˜
   int HeatMap[15][15]; //çƒ­åŠ›å›¾
   int Score; //å±€é¢åˆ†
   Point FinalChoice; //ç”µè„‘æœ€ä¼˜é€‰æ‹©
   char firstPlayer; //å…ˆæ‰‹
   ChangeLog change_stack[STACK_SIZE];//æ“ä½œæ ˆ
   ChangeLog *ptr_change_stack;//æ“ä½œæŒ‡é’ˆ
   ```

2. **è¿è¡Œæµç¨‹è®¾è®¡**ï¼š

   ```mermaid
   graph TD
       A[å¼€å§‹æ¸¸æˆ] --> B{ç©å®¶å…ˆæ‰‹?}
       B -->|æ˜¯| C[ç©å®¶è½å­]
       B -->|å¦| D[AIè½å­ä¸­å¿ƒ]
       C --> E[å¢é‡æ›´æ–°æ£‹ç›˜çŠ¶æ€]
       D --> E
       E --> F[æ›´æ–°çƒ­åŠ›å›¾]
       F --> G{æ˜¯å¦äº”è¿?}
       G -->|æ˜¯| H[æ¸¸æˆç»“æŸ]
       G -->|å¦| I[AIæœç´¢æœ€ä½³è½å­]
       I --> J[Alpha-Betaå‰ªææœç´¢]
       J --> K[çƒ­åŠ›å›¾å¯å‘åˆ†æ”¯é€‰æ‹©]
       K --> L[å¢é‡æ›´æ–°æ¨¡æ‹Ÿè½å­]
       L --> M{æ·±åº¦æœªè¾¾ä¸Šé™?}
       M -->|æ˜¯| N[é€’å½’æœç´¢]
       M -->|å¦| O[è¿”å›æœ€ä½³ä¼°å€¼]
       N --> O
       O --> P[çŠ¶æ€å›æ»š]
       P --> Q[é€‰æ‹©æœ€ä¼˜è½å­ç‚¹]
       Q --> R[å®é™…è½å­]
       R --> S[æ›´æ–°æ˜¾ç¤º]
       S --> T{æ¸¸æˆç»§ç»­?}
       T -->|æ˜¯| C
       T -->|å¦| U[ç»“æŸ]
   ```

3. **æ ¸å¿ƒå‡½æ•°è®¾è®¡**ï¼š
   - `change()`ï¼šå¤„ç†å•ä¸ªæ–¹å‘çš„æ£‹å½¢å˜åŒ–
   - `next_state()`ï¼šæ‰§è¡Œè½å­å¹¶æ›´æ–°å…¨å±€çŠ¶æ€
   - `de_state()`ï¼šé€šè¿‡æ ˆå›æ»šçŠ¶æ€
   - `search()`ï¼šAlpha-Betaå‰ªææœç´¢ä¸»å‡½æ•°
   - `generate_choices()`ï¼šçƒ­åŠ›å›¾å¯å‘ç”Ÿæˆå€™é€‰ç‚¹

4. **ç”¨æˆ·ç•Œé¢è®¾è®¡**ï¼š
   ä½¿ç”¨Qt Creatorè®¾è®¡GUIï¼Œç»˜åˆ¶æ£‹ç›˜å’ŒæŒ‰é’®ï¼Œå®ç°é€‰æ‹©å…ˆåæ‰‹ã€è½å­ã€æ˜¾ç¤ºå±€é¢ã€æ˜¾ç¤ºèƒœåˆ©ä¿¡æ¯ç­‰åŸºæœ¬åŠŸèƒ½
**æ­¥éª¤3ï¼šæ ¸å¿ƒæ¨¡å—åˆ†æä¸ä»£ç ç¼–å†™**
1. **æœç´¢ç®—æ³•**ï¼š
   åœ¨åŸå‹çš„åŸºç¡€ä¸Šï¼Œå°†alphaå’Œbetaåˆå¹¶ä¸ºä¸€ä¸ªå‚æ•°ï¼ŒåŠ å…¥ç›´æ¥è·èƒœçš„åˆ¤æ–­ï¼Œè¿›ä¸€æ­¥å‡å°‘ä¸å¿…è¦è®¡ç®—ï¼Œå¹¶é¿å…ä¸€æ–¹è·èƒœåå¦ä¸€æ–¹ä»åœ¨è½å­çš„é”™è¯¯å±€é¢å‡ºç°
   ```c
   int search(int depth, bool isMachine, int alpha_beta) {
       if (depth == 0) return Score;  // å¶å­èŠ‚ç‚¹è¿”å›å½“å‰åˆ†æ•°
       
       int value = isMachine ? -1000000 : 1000000;
       Point *choices = generate_choices();  // å¯å‘å¼ç”Ÿæˆå€™é€‰ç‚¹
       
       for (int i = 0; i < branches; i++) {
           if (next_state(choices[i], isMachine)) {
               // å¦‚æœè½å­ç›´æ¥è·èƒœ
               de_state(choices[i]);
               free(choices);
               return isMachine ? SCORE_WIN : -SCORE_WIN;
           }
           
           int temp = search(depth - 1, !isMachine, value);
           
           // Alpha-Betaå‰ªæ
           if (isMachine) {
               if (temp > value) {
                   value = temp;
                   if (depth == MAXDEPTH) FinalChoice = choices[i];
                   if (temp >= alpha_beta) {  // Alphaå‰ªæ
                       de_state(choices[i]);
                       free(choices);
                       return alpha_beta;
                   }
               }
           } else {
               ...// Betaå‰ªæç±»ä¼¼å¤„ç†
           }
           
           de_state(choices[i]);  // å›æ»šçŠ¶æ€
       }
       free(choices);//é‡Šæ”¾å†…å­˜
       return value;
   }
   ```

2. **å¢é‡æ›´æ–°**ï¼š
   - å°†ä¸€ä¸ªç‚¹çš„æ£‹å½¢æŒ‰è¡Œã€åˆ—ã€ä¸»å¯¹è§’çº¿ã€æ¬¡å¯¹è§’çº¿å››ä¸ªæ–¹å‘æ‹†åˆ†ï¼Œæ¯ä¸ªæ–¹å‘è°ƒç”¨`change()`æ›´æ–°å±€é¢
      ```c
      bool next_state(Point point, bool isMachine)
      {
      char player = isMachine ? COMPUTER : HUMAN;
   
          // å…ˆæ£€æŸ¥æ˜¯å¦ç«‹å³è·èƒœ
          if (checkWin(point.X, point.Y, player))
          {
              return true;
          }
   
          Board[point.Y][point.X] = player;
          start_push();
          heat_push(point, -HeatMap[point.Y][point.X]);
   
          // æ›´æ–°å››ä¸ªæ–¹å‘çš„çŠ¶æ€
          for (int i = 0; i < 4; i++)
          {
              change(point, i, player);
          }
   
          return false;
      }
      ```
   - åˆ†æå…·ä½“å±€é¢å¹¶è¿›è¡Œå¤„ç†
      ```c
      void change(Point point, char dir, char player) {
          // è·å–æ–¹å‘å¢é‡
          char deltaX = dir ? (2 - dir) : 1;
          char deltaY = dir ? 1 : 0;
       
          // åˆ†æå·¦ä¾§æ£‹å½¢
          if (Board[point.Y-deltaY][point.X-deltaX] == player) {
              // å·¦é‚»å·±æ–¹æ£‹å­ï¼Œæ‰©å±•æ£‹å½¢
              for (int i = 1; ; i++) {
                  char Xi = point.X - i * deltaX;
                  char Yi = point.Y - i * deltaY;
                  if (BoardState[Yi][Xi][dir].length0 != 0) {
                      // æ‰¾åˆ°æ£‹å½¢èµ·ç‚¹ï¼Œè¿›è¡Œæ‰©å±•
                      shape_temp = BoardState[Yi][Xi][dir];
                      shape_temp.length0++;  // è¿å­é•¿åº¦+1
                      // æ›´æ–°æ£‹å½¢åˆ°æ ˆ
                      shape_push(shape_create, {Xi, Yi}, shape_temp, dir);
                      break;
                  }
              }
          }
          // ... å…¶ä»–æƒ…å†µçš„å¤„ç†
      }
      ```
   - åŸºäºæ”¹å˜å†…å®¹ï¼Œå¯¹æ ˆå’Œæ•°ç»„è¿›è¡Œç»´æŠ¤
      ```c
      void start_push()
      {  
         //æ ‡è®°è¯¥æ­¥èµ·ç‚¹
         ptr_change_stack->mode = end_of_change;
         ptr_change_stack++;
      }
      void shape_push(ChangeMode mode, Point position, Shape shape, char direction)
      {
         //å…¥æ ˆ
         ChangeLog log;
         log.mode = mode;
         ...
         *ptr_change_stack++ = log;
         
         if (mode == shape_create)
         {
             BoardState[position.Y][position.X][direction] = shape;//æ–°å¢æ£‹å½¢
         }
         else
         {
             BoardState[position.Y][position.X][direction].length0 = 0;//åˆ é™¤æ£‹å½¢
         }
         //å±€éƒ¨å˜é‡åˆå§‹åŒ–
         char add = (mode == shape_create) ? 1 : -1;
         char total_pieces = shape.length0 + shape.length1;
         ...
         //åŸºäºæ”¹å˜çš„æ£‹å½¢å®æ—¶è®°åˆ†
         if (shape.length1 != 0)
         {
              char broke_X = position.X + shape.length0 * deltaX;
              char broke_Y = position.Y + shape.length0 * deltaY;
   
              if (shape.isblocked_begin)
              {
                  if (shape.isblocked_end)
                  {
                      if (total_pieces >= 4)
                      {
                          score_push(value_blocked[3] * player * add);
                          heat_push({broke_X, broke_Y}, SCORE_WIN * add);
                      }
                  }
                  else
                  {
                  ...//å…¶ä»–æƒ…å†µ
          }
      }

      ```
   
3.**å¯å‘é€‰ç‚¹**ï¼š
   ```c
   Point *generate_choices()
   {
      //åˆå§‹åŒ–è¾“å‡ºæ•°ç»„
       Point *choices = (Point *)malloc(sizeof(Point) * MAXBRANCHES);
       for (int i = 0; i < MAXBRANCHES; i++)
       {
           choices[i].X = -1;
           choices[i].Y = -1;
       }
       Node *list = nullptr;
       int count = 0;
       //éå†çƒ­åŠ›å›¾ï¼ŒæŒ‰ä»·å€¼æ’å…¥é“¾è¡¨
       for (char i = 0; i < BOARD_SIZE; i++)
       {
           for (char j = 0; j < BOARD_SIZE; j++)
           {
               if (Board[i][j] == EMPTY && HeatMap[i][j] != 0)
               {
                  //åˆå§‹åŒ–èŠ‚ç‚¹
                   Node *new_node = (Node *)malloc(sizeof(Node));
                   int heat = HeatMap[i][j];
                   new_node->data.heat = heat;
                   ...
                   if (list == nullptr || heat > list->data.heat)
                   {
                       //æ’å…¥åœ¨èµ·ç‚¹
                       new_node->next = list;
                       list = new_node;
                   }
                   else
                   {
                       //éå†å¯»æ‰¾æ’å…¥ä½ç½®
                       Node *current = list;
                       while (current->next != nullptr && current->next->data.heat > heat)
                       {
                           current = current->next;
                       }
                       new_node->next = current->next;
                       current->next = new_node;
                   }
                   count++;
               }
           }
       }
       // å¦‚æœæ²¡æœ‰çƒ­åŠ›å›¾å¯å‘ï¼Œé€‰æ‹©ä¸­å¿ƒé™„è¿‘çš„ç©ºä½
       if (count == 0)
       {
           choices[0].X=7;
           choices[0].Y=7;
       }
       //è¾“å‡ºåˆ°æ•°ç»„
       else
       {
           Node *current = list;
           for (int i = 0; i < MAXBRANCHES && current != nullptr; i++)
           {
               choices[i] = current->data.point;
               current = current->next;
           }
       }
       // é‡Šæ”¾é“¾è¡¨å†…å­˜
       while (list != nullptr)
       {
           Node *temp = list;
           list = list->next;
           free(temp);
       }
       return choices;
   }
   ```
4.**çŠ¶æ€å›é€€**ï¼š
   - å¼¹æ ˆï¼Œå¹¶å¯¹æ¯ä¸€æ­¥æ‰§è¡Œé€†æ“ä½œï¼Œç›´è‡³è¯¥æ¬¡è½å­çš„èµ·ç‚¹æ ‡è®°
      ```c
      void de_state(Point point)
      {
          Board[point.Y][point.X] = EMPTY;
          bool loop = true;
          ChangeLog change_log;
      
          while (loop)
          {
              change_log = stack_pop();
              switch (change_log.mode)
              {
              case end_of_change:
                  loop = false;
                  break;
              case shape_create:
                  BoardState[change_log.data.shapeData.position.Y]
                            [change_log.data.shapeData.position.X]
                            [change_log.data.shapeData.direction].length0 = 0;
                  break;
              case shape_del:
                  BoardState[change_log.data.shapeData.position.Y]
                            [change_log.data.shapeData.position.X]
                            [change_log.data.shapeData.direction] =
                      change_log.data.shapeData.shape;
                  break;
              case score_change:
                  Score -= change_log.data.score;
                  break;
              case heat_change:
                  HeatMap[change_log.data.heat.position.Y]
                         [change_log.data.heat.position.X] -=
                      change_log.data.heat.score;
                  break;
              }
          }
      }
      ```
5.**ä¸»å‡½æ•°å’Œç”¨æˆ·ç•Œé¢**ï¼šç•¥

**æ­¥éª¤4ï¼šä»£ç è¿è¡Œä¸è°ƒè¯•**

1. **ç¼–è¯‘é”™è¯¯ä¿®å¤**ï¼š
   - ä¿®å¤ç»“æ„ä½“å’Œä½åŸŸåˆå§‹åŒ–è¯­æ³•é”™è¯¯
   - ä¿®æ­£å‡½æ•°å£°æ˜ä¸å®šä¹‰ä¸åŒ¹é…é—®é¢˜
   - è§£å†³æŒ‡é’ˆç±»å‹è½¬æ¢è­¦å‘Š

2. **é€»è¾‘è°ƒè¯•**ï¼š
   - è°ƒè¯•å¢é‡æ›´æ–°ï¼šå‘ç°æ£‹å½¢æ‰©å±•æ—¶è¾¹ç•Œå¤„ç†é”™è¯¯ï¼Œæ·»åŠ è¶Šç•Œæ£€æŸ¥
   - è°ƒè¯•çŠ¶æ€å›æ»šï¼šä¿®å¤æ ˆæ“ä½œé¡ºåºé”™è¯¯ï¼Œç¡®ä¿å®Œå…¨æ¢å¤çŠ¶æ€
   - è°ƒè¯•æœç´¢ç®—æ³•ï¼šä¿®å¤Alpha-Betaå‰ªææ¡ä»¶é”™è¯¯ï¼Œä¼˜åŒ–å‰ªææ•ˆç‡
   - è°ƒè¯•å¯å‘é€‰ç‚¹ï¼šä¿®å¤é“¾è¡¨å†…å­˜é‡Šæ”¾ä¸å®Œå…¨å¯¼è‡´çš„å†…å­˜æ³„æ¼

3. **æ€§èƒ½ä¼˜åŒ–**ï¼š
   - ä¼˜åŒ–`generate_choices()`å‡½æ•°ï¼Œå‡å°‘ä¸å¿…è¦çš„é“¾è¡¨æ“ä½œ
   - è°ƒæ•´æœç´¢æ·±åº¦é™åˆ¶ï¼Œé˜²æ­¢é€’å½’è¿‡æ·±å¯¼è‡´æ ˆæº¢å‡º

**æ­¥éª¤5ï¼šå®éªŒæµ‹è¯•**
   - è§(äº”.1)

### **äº”ã€å®éªŒç»“æœä¸åˆ†æ**

#### **1. å®éªŒç»“æœ**

ï¼ˆ1ï¼‰æµ‹è¯•ç»“æœè®°å½•

1. **åŠŸèƒ½æµ‹è¯•**ï¼š
   - åŸºç¡€è§„åˆ™æµ‹è¯•ï¼šæ­£ç¡®åˆ¤æ–­äº”è¿å¹¶å¼¹å‡ºèƒœåˆ©ä¿¡æ¯
   - å¢é‡æ›´æ–°æµ‹è¯•ï¼šè½å­åå±€éƒ¨æ£‹å½¢æ­£ç¡®æ›´æ–°
   - æœç´¢ç®—æ³•æµ‹è¯•ï¼šAIåœ¨å…¸å‹å±€é¢ä¸‹åšå‡ºåˆç†å†³ç­–
   - çŠ¶æ€ç®¡ç†æµ‹è¯•ï¼šå¤šæ¬¡è½å­åçŠ¶æ€ä¸€è‡´

2. **æ€§èƒ½æµ‹è¯•**ï¼š
   - å“åº”æ—¶é—´æµ‹è¯•ï¼šAIæ€è€ƒæ—¶é—´åŸºæœ¬æ§åˆ¶åœ¨10ç§’å†…
   - å†…å­˜ä½¿ç”¨æµ‹è¯•ï¼šé€’å½’æ·±åº¦ä¸º8æ—¶ï¼Œå†…å­˜å ç”¨<10MB
   - æ£‹åŠ›æµ‹è¯•ï¼š\
      * ä¸å¤šä¸ªéä¸“ä¸šæ€§äº”å­æ£‹ç¨‹åºå¯¹æˆ˜ å…¨èƒœ
      * ä¸æˆ‘å¯¹æˆ˜ æ‰§é»‘å…¨èƒœï¼Œæ‰§ç™½å¤§æ¦‚ç‡èƒœ
      * ä¸é«˜æ°´å¹³ä¸šä½™æ£‹æ‰‹å¯¹æˆ˜ æ‰§é»‘å…¨èƒœï¼Œæ‰§ç™½å…¨è´Ÿ

3. **ç¨³å®šæ€§æµ‹è¯•**ï¼š
   - é•¿æ—¶é—´è¿è¡Œæµ‹è¯•ï¼šè¿ç»­å¯¹å¼ˆ50å±€æ— å´©æºƒ
   - è¾¹ç•Œæ¡ä»¶æµ‹è¯•ï¼šæ­£ç¡®å¿½ç•¥å°è¯•åœ¨æ£‹ç›˜è¾¹ç¼˜è½å­ã€é‡å¤è½å­ç­‰æ— æ•ˆè½å­è¡Œä¸º
ï¼ˆ2ï¼‰ç¨‹åºè¿è¡Œæˆªå›¾
![äº”å­æ£‹AIè¿è¡Œç•Œé¢](report/è¿è¡Œæˆªå›¾.png)
![èƒœåˆ©åˆ¤æ–­](report/èƒœåˆ©åˆ¤æ–­.png)
#### **2. ç»“æœåˆ†æ**

ï¼ˆ1ï¼‰**å‡†ç¡®ç‡åˆ†æ**ï¼šå¢é‡æ›´æ–°ç®—æ³•å®Œå…¨å‡†ç¡®ï¼Œæ­£ç¡®è¯†åˆ«æ£‹å½¢å˜åŒ–ã€‚ä¸»è¦ä¼˜åŠ¿åŒ…æ‹¬ï¼š
- å±€éƒ¨æ›´æ–°é¿å…äº†å…¨å±€æ‰«æï¼Œæ•ˆç‡æ˜¾è‘—æå‡
- æ£‹å½¢æ•°æ®ç»“æ„è®¾è®¡åˆç†ï¼Œèƒ½å‡†ç¡®è¡¨ç¤ºè¿ã€è·³ã€å°å µçŠ¶æ€
- çƒ­åŠ›å›¾å¯å‘æœ‰æ•ˆå¼•å¯¼æœç´¢ï¼Œå‡å°‘æ— æ•ˆåˆ†æ”¯

ï¼ˆ2ï¼‰**æ€§èƒ½åˆ†æ**ï¼š
- å“åº”æ—¶é—´ï¼šæœç´¢æ·±åº¦ä¸º8æ—¶è€—æ—¶åŸºæœ¬æ§åˆ¶åœ¨10ç§’å†…ï¼Œæ»¡è¶³å®æ—¶æ€§è¦æ±‚
- å†…å­˜ä½¿ç”¨ï¼šçŠ¶æ€æ ˆæœ€å¤§æ·±åº¦2000ï¼Œå†…å­˜å ç”¨ç¨³å®š
- æœç´¢æ•ˆç‡ï¼šçƒ­åŠ›å›¾å¯å‘ä½¿æœç´¢åˆ†æ”¯ä»å¹³å‡50ä¸ªå‡å°‘åˆ°20ä¸ªä»¥ä¸‹ï¼Œä¸”é«˜ä»·å€¼é€‰ç‚¹æå‰å‡ºç°

ï¼ˆ3ï¼‰**ç®—æ³•ä¼˜åŠ¿**ï¼š
1. **å¢é‡è¯„ä¼°é«˜æ•ˆ**ï¼šä¼ ç»Ÿè¯„ä¼°éœ€O(nÂ²)æ‰«æï¼Œå¢é‡æ›´æ–°ä»…O(1)
2. **çŠ¶æ€ç®¡ç†çµæ´»**ï¼šæ ˆå¼å›æ»šæ”¯æŒä»»æ„æ·±åº¦çš„çŠ¶æ€æ¢å¤
3. **æœç´¢ç­–ç•¥æ™ºèƒ½**ï¼šAlpha-Betaå‰ªæ+çƒ­åŠ›å›¾å¯å‘ï¼Œå¹³è¡¡æ·±åº¦ä¸å¹¿åº¦

ï¼ˆ4ï¼‰**å­˜åœ¨çš„ä¸è¶³**ï¼š

1. æœªå®ç°ç¦æ‰‹è§„åˆ™ï¼Œä¸ç¬¦åˆä¸“ä¸šäº”å­æ£‹æ¯”èµ›è¦æ±‚
2. ç¼ºå°‘æ‚”æ£‹åŠŸèƒ½ï¼Œéš¾ä»¥ç”¨äºæ¨æ¼”

###  **å…­ã€å®éªŒæ€»ç»“ä¸å¿ƒå¾—ä½“ä¼š**

#### **1. å®éªŒæ€»ç»“**

ï¼ˆ1ï¼‰**æ ¸å¿ƒå†…å®¹æ€»ç»“**ï¼šæœ¬æ¬¡å®éªŒæˆåŠŸå®ç°äº†åŸºäºå¢é‡æ›´æ–°çš„äº”å­æ£‹AIç³»ç»Ÿï¼Œæ ¸å¿ƒæŠ€æœ¯åŒ…æ‹¬ï¼š
- è®¾è®¡äº†é«˜æ•ˆçš„æ£‹å½¢æ•°æ®ç»“æ„å’Œå¢é‡æ›´æ–°ç®—æ³•
- å®ç°äº†ç»“åˆAlpha-Betaå‰ªæå’Œçƒ­åŠ›å›¾å¯å‘çš„æœç´¢ç­–ç•¥
- å¼€å‘äº†å®Œæ•´çš„çŠ¶æ€ç®¡ç†å’Œå›æ»šæœºåˆ¶
- æ„å»ºäº†å¯äº¤äº’çš„äººæœºå¯¹æˆ˜ç³»ç»Ÿ

ï¼ˆ2ï¼‰**å…³é”®æŠ€æœ¯çªç ´**ï¼š
1. **å¢é‡æ›´æ–°æœºåˆ¶**ï¼šå¤§å¹…é™ä½æ£‹å½¢è¯„ä¼°å¤æ‚åº¦
2. **æ··åˆæœç´¢ç­–ç•¥**ï¼šAlpha-Betaå‰ªæä¿è¯ç»“æœæ­£ç¡®æ€§ï¼Œçƒ­åŠ›å›¾å¯å‘æå‡å®é™…æ•ˆç‡
3. **çŠ¶æ€æ ˆè®¾è®¡**ï¼šæ”¯æŒæ·±åº¦çš„çŠ¶æ€å›æ»šï¼Œæ˜¯é€’å½’æœç´¢çš„åŸºç¡€

ï¼ˆ3ï¼‰**å¾…ä¼˜åŒ–æ–¹å‘**ï¼š
1. å¢åŠ æœç´¢æ·±åº¦ï¼Œç»“åˆè¿­ä»£æ·±åŒ–ï¼ˆIterative Deepeningï¼‰
2. å¼•å…¥æ¨¡å¼è¯†åˆ«ï¼Œæé«˜å¯¹å¤æ‚æ£‹å½¢çš„è¯„ä¼°å‡†ç¡®æ€§
3. å®ç°å¹¶è¡Œæœç´¢ï¼Œåˆ©ç”¨å¤šæ ¸CPUæå‡æœç´¢é€Ÿåº¦
4. æ·»åŠ å¼€å±€åº“å’Œæ®‹å±€åº“ï¼Œæå‡ä¸“ä¸šæ°´å¹³

#### **2. å¿ƒå¾—ä½“ä¼š**
- çŸ¥è¯†æ–¹é¢ï¼š
   * å­¦ä¹ å¹¶ç†Ÿç»ƒåº”ç”¨æå¤§æå°ç®—æ³•å’Œalphaâ€”â€”betaå‰ªæç®—æ³•ï¼ŒåŒæ—¶äº†è§£äº†MCTSç­‰æ›´é«˜çº§çš„åšå¼ˆAIç®—æ³•ï¼Œåˆæ­¥å»ºç«‹èµ·å¯¹äººå·¥æ™ºèƒ½çš„è®¤è¯†
   * ç‹¬ç«‹æ„æ€äº†ç¨‹åºä¸­çš„å¢é‡æ›´æ–°ç®—æ³•å¹¶è®¾è®¡äº†ç›¸åº”çš„æ•°æ®ç»“æ„
   * å°†è¯¾å†…æ‰€å­¦é“¾è¡¨ç­‰çŸ¥è¯†çµæ´»è¿ç”¨äºå¼€å‘ä¸­ï¼Œå®ç°é«˜æ•ˆçš„æ’åºç®—æ³•
- æ€æƒ³æ–¹é¢ï¼š
   * é¦–æ¬¡å¼€å‘å…·æœ‰ç°ä»£ç”¨æˆ·ç•Œé¢å’Œç›¸å¯¹å¤æ‚åŠŸèƒ½çš„å®Œæ•´é¡¹ç›®ï¼Œæé«˜äº†æˆ‘å¯¹ç¨‹åºçš„å…¨å±€è§‚ã€æ•´ä½“è§‚
   * å°è¯•åœ¨å¼€å‘è¿‡ç¨‹ä¸­åº”ç”¨TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰å’Œæ•æ·å¼€å‘çš„æ€æƒ³ï¼Œå¯¹ç¼–å†™ä¸­çš„å‡½æ•°è¿›è¡ŒåŠæ—¶çš„æµ‹è¯•ï¼Œè®¤è¯†åˆ°å…¶å¯¹äºæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€é™ä½æ•´ä½“è°ƒè¯•å‹åŠ›çš„é‡è¦ä½œç”¨
   * ä½¿ç”¨gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶å’Œè·¨è®¾å¤‡å¼€å‘ï¼Œæ„Ÿå—å…¶èƒŒåçš„å¼€æºç²¾ç¥å’Œåˆä½œåŠ›é‡\
è¿™æ¬¡å®éªŒè®©æˆ‘ä»ä¸€ä¸ªç®—æ³•ä½¿ç”¨è€…è½¬å˜ä¸ºè®¾è®¡è€…ï¼ŒçœŸæ­£ç†è§£äº†"æ•°æ®ç»“æ„+ç®—æ³•=ç¨‹åº"çš„å†…æ¶µã€‚ç‰¹åˆ«æ˜¯åœ¨è°ƒè¯•å¢é‡æ›´æ–°é€»è¾‘æ—¶ï¼Œéœ€è¦åŒæ—¶è€ƒè™‘æ£‹å½¢å˜åŒ–ã€åˆ†æ•°æ›´æ–°ã€çƒ­åŠ›å›¾æ›´æ–°ä¸‰ä¸ªç»´åº¦çš„åŒæ­¥ï¼Œè¿™ç§å¤šç»´åº¦æ€è€ƒèƒ½åŠ›æ˜¯è¯¾æœ¬çŸ¥è¯†æ— æ³•ç›´æ¥æä¾›çš„ã€‚

**å¤‡æ³¨ï¼š**

1. æœ¬å®éªŒæŠ¥å‘Šè¯¦ç»†è®°å½•äº†åŸºäºå¢é‡æ›´æ–°çš„äº”å­æ£‹æœç´¢ç®—æ³•çš„è®¾è®¡ä¸å®ç°è¿‡ç¨‹ï¼›
2. ä»£ç å·²æäº¤è‡³[GitHubä»“åº“](https://github.com/TinySpark54/C_gobang/) 
3. å®éªŒè¿‡ç¨‹ä¸­æ‰€æœ‰æ€è€ƒå’Œæ”¹è¿›å‡æ¥è‡ªå®é™…è°ƒè¯•å’Œä¼˜åŒ–ã€‚